{% extends 'layout_main.html' %}

{% block content %}
<div class="container1 mt-5">
    <h2 class="text-center mb-4">Guide Booking Details</h2>

    <p><strong>Guide Name:</strong> {{ booking.guide.name }}</p>
    <p><strong>Trip Date:</strong> {{ booking.start_date|date:"d-m-Y" }}</p>
    <p><strong>Status:</strong> {% if booking.is_confirmed %}Confirmed{% else %}Not Confirmed{% endif %}</p>

    {% if plan %}
        <h5>Guide's Plan:</h5>
        <p>{{ plan.guide_plan }}</p>
    {% else %}
        <p>No plan available yet.</p>
    {% endif %}

    <h5>Submit Your Suggestions:</h5>
    <form method="POST">
        {% csrf_token %}
        <textarea name="suggestion_text" class="form-control" rows="4" placeholder="Enter your suggestions for modifications">{{ plan.user_preferences }}</textarea>
        <button type="submit" class="btn btn-primary mt-3">Submit Suggestion</button>
    </form>

    <form method="POST" action="{% url 'cancel_guide_booking' booking.id %}" class="mt-3">
        {% csrf_token %}
        <input type="hidden" name="cancel_booking" value="{{ booking.id }}">
        <button type="submit" class="btn btn-danger">Cancel Booking</button>
    </form>
</div>

<style>
    .container1 {
        padding-top: 80px;
        padding-left: 400px;
        width: 80%;
    }
{% endblock %}
